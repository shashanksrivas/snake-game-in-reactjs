{"version":3,"sources":["App.js","useInterval.js","index.js"],"names":["c_sz","s_st","a_st","di","38","40","37","39","App","cre","useRef","useState","sn","setsn","ap","setap","dir","setDir","speed","setSpeed","gmo","setgmo","callback","delay","savedCallback","useEffect","current","id","setInterval","clearInterval","useInterval","gameLoop","createap","map","_a","i","Math","floor","random","ccol","pp","snk","seg","scc","JSON","parse","stringify","nsnh","unshift","newsn","newap","cacol","pop","ctx","getContext","setTransform","clearRect","window","innerWidth","innerHeight","fillStyle","forEach","x","y","fillRect","role","tabIndex","onKeyDown","e","keyCode","movesn","style","margin","border","borderRadius","ref","width","height","className","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b08421df.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useInterval } from \"./useInterval\";\r\nimport \"./styles.css\";\r\n\r\nconst c_sz = [500, 500];\r\nconst s_st = [\r\n  [8, 7],\r\n  [8, 8]\r\n];\r\nconst a_st = [8, 3];\r\nconst sc = 40;\r\nconst SPEED = 150;\r\nconst di = {\r\n  38: [0, -1], // up\r\n  40: [0, 1], // down\r\n  37: [-1, 0], // left\r\n  39: [1, 0] // right\r\n};\r\n\r\n\r\nconst App = () => {\r\n  const cre = useRef();\r\n  const [sn, setsn] = useState(s_st);\r\n  const [ap, setap] = useState(a_st);\r\n  const [dir, setDir] = useState([0, -1]);\r\n  const [speed, setSpeed] = useState(null);\r\n  const [gmo, setgmo] = useState(false);\r\n\r\n  useInterval(() => gameLoop(), speed);\r\n\r\n  const egm = () => {\r\n    setSpeed(null);\r\n    setgmo(true);\r\n  };\r\n\r\n  const movesn = ({ keyCode }) =>\r\n  keyCode >= 37 && keyCode <= 40 && setDir(di[keyCode]);\r\n\r\n  const createap = () =>\r\n    ap.map((_a, i) => Math.floor(Math.random() * (c_sz[i] / sc)));\r\n\r\n  const ccol = (pp, snk = sn) => {\r\n    if (\r\n      pp[0] * sc >= c_sz[0] ||\r\n      pp[0] < 0 ||\r\n      pp[1] * sc >= c_sz[1] ||\r\n      pp[1] < 0\r\n    )\r\n      return true;\r\n\r\n    for (const seg of snk) {\r\n      if (pp[0] === seg[0] && pp[1] === seg[1]) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const cacol = newsn => {\r\n    if (newsn[0][0] === ap[0] && newsn[0][1] === ap[1]) {\r\n      let newap = createap();\r\n      while (ccol(newap, newsn)) {\r\n        newap = createap();\r\n      }\r\n      setap(newap);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const gameLoop = () => {\r\n    const scc = JSON.parse(JSON.stringify(sn));\r\n    const nsnh = [scc[0][0] + dir[0], scc[0][1] + dir[1]];\r\n    scc.unshift(nsnh);\r\n    if (ccol(nsnh)) egm();\r\n    if (!cacol(scc)) scc.pop();\r\n    setsn(scc);\r\n  };\r\n\r\n  const stg = () => {\r\n    setsn(s_st);\r\n    setap(a_st);\r\n    setDir([0, -1]);\r\n    setSpeed(SPEED);\r\n    setgmo(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ctx = cre.current.getContext(\"2d\");\r\n    ctx.setTransform(sc, 0, 0, sc, 0, 0);\r\n    ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\r\n    // ctx.fillStyle = \"yellow\";\r\n    // ctx.shadowColor = \"blue\";\r\n    // ctx.shadowBlur = 10;\r\n    ctx.fillStyle = \"pink\";\r\n    sn.forEach(([x, y]) => ctx.fillRect(x, y, 1, 1));\r\n    ctx.fillStyle = \"lightblue\";\r\n    ctx.fillRect(ap[0], ap[1], 1, 1);\r\n  }, [sn, ap, gmo]);\r\n\r\n  return (\r\n    <div role=\"button\" tabIndex=\"0\" onKeyDown={e => movesn(e)} style={{margin:\"0px 0px 0px 30vw \"}}>\r\n      <canvas\r\n        style={{ border: \"10px solid orange\",borderRadius:\"10px\" }}\r\n        ref={cre}\r\n        width={`${c_sz[0]}px`}\r\n        height={`${c_sz[1]}px`}\r\n       \r\n      />\r\n      <br/>\r\n      <br/>\r\n      {gmo && <div style={{margin:\"0px 0px 0px 200px \"}}>GAME OVER!</div>}\r\n      <button className=\"button1\" onClick={stg} style={{margin:\"0px 0px 0px 200px \"}}>Start Game</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// Custom Hook by Dan Abramov\r\nimport { useEffect, useRef } from 'react';\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}